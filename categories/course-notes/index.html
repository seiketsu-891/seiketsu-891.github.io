<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>Category: course-notes - Louie&#39;s blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="">





    <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/categories/course-notes/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories">Categories</a>
            
            <a class="navbar-item "
               href="/tags">Tags</a>
            
            <a class="navbar-item "
               target="_blank" rel="noopener" href="https://github.com/seiketsu-891">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" target="_blank" rel="noopener" href="https://github.com/seiketsu-891">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section section-heading">
    <div class="container">
        <div class="content">
            <h5><i class="far fa-folder"></i>course-notes</h5>
        </div>
    </div>
</section>
<section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2022/12/31/notes-SpringMVC/" itemprop="url">notes-SpringMVC</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2022-12-31T15:43:44.000Z" itemprop="datePublished">Dec 31 2022</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/course-notes/">course-notes</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p>couse link: <a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=ox7MCdwUBZc&amp;list=PLmOn9nNkQxJGF15IIHJJsZUodQD_v2KUm&amp;index=1">【尚硅谷】【新版SpringMVC】</a></p>
<h2 id="Introduction-and-basic-usage"><a href="#Introduction-and-basic-usage" class="headerlink" title="Introduction and basic usage"></a>Introduction and basic usage</h2><p>SpringMVC is a web framework that is part of the Spring framework. It’s a request-based web framework that uses the Model-View-Controller design pattern to seperate the presentation layer(view) from the business logic(controller) and the data model(model). For example, the <code>@Contoller</code> annoation is part of the StringMVC framework.</p>
<p>In order to use SpringMVC, we need to set up a servlet.</p>
<figure class="highlight xml hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>The DispatcherServlet is a central servlet in the Spring MVC framework. </p>
<p>By default, the DispatcherServlet looks for a configuartion file named <code>&lt;servlet-name&gt;-servlet.xml </code> in the <code>WEB-INFO</code> folder.</p>
<p>We can also set custom locations and file name for the configuration file:</p>
<figure class="highlight xml hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span></span><br><span class="line">       <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span></span><br><span class="line">       <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:spring.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>the configuration file: </p>
<figure class="highlight xml hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">"org.example.mvc"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"viewResolver"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">     <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/WEB-INF/"</span>/&gt;</span></span><br><span class="line">     <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span>/&gt;</span></span><br><span class="line"> <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<p>controller:</p>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Controller</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="title class_">TestController</span> {</span><br><span class="line">   <span class="hljs-meta">@RequestMapping("/hello")</span></span><br><span class="line">   <span class="hljs-keyword">public</span> String <span class="title function_">hello</span><span class="hljs-params">()</span>{</span><br><span class="line">       <span class="hljs-keyword">return</span> <span class="hljs-string">"helloPage"</span>; <span class="hljs-comment">// /WEB-INFO/helloPage.jsp</span></span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Then if we visit <code>/hello</code>,  <code>/WEB-INFO/helloPage.jsp</code> will be shown.</p>
<p>Note that if we place the <code>@RequestMapping</code> annotation on a class, it specifies a base URL for all request handlers with that class.</p>
<h2 id="Attributes-for-RequestMapping"><a href="#Attributes-for-RequestMapping" class="headerlink" title="Attributes for @RequestMapping"></a>Attributes for @RequestMapping</h2><ol>
<li>params</li>
</ol>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="hljs-meta">@RequestMapping(value="/hello", params ="name")</span> <span class="hljs-comment">// the request handler will onlu be invoked if the request contains the request parameter "name";</span></span><br><span class="line"></span><br><span class="line"> <span class="hljs-meta">@RequestMapping(value="/hello", params ={"name=Alex","!age", "hobby!=sports"})</span> </span><br><span class="line"><span class="hljs-comment">// 1. the request must contain a "name" parameter with the value "Alex";</span></span><br><span class="line"><span class="hljs-comment">// 2. the request must not contain an "age" paramater</span></span><br><span class="line"><span class="hljs-comment">// 3. the request must contain a "hobby" parameter with a value that is not eaqul to "sports";</span></span><br></pre></td></tr></tbody></table></figure>

<ol start="2">
<li><p>headers</p>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@RequestMapping(value="/hello", headers ="token")</span> <span class="hljs-comment">// the request must contains a "token" header</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@RequestMapping(value="/hello", headers ={"token=123", "name"})</span> <span class="hljs-comment">// the request must contains a "token" header with the value 123 and must contain a "name" header</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>value</p>
</li>
</ol>
<p>We can use Ant-style paths for <code>value</code>.</p>
<p>Ant-style path examples: </p>
<ul>
<li><p>/path/*  =&gt; match any URL that begins with <code>/path</code> and has one or more additional segments</p>
</li>
<li><p>/path/** =&gt; match any URL hat begins with <code>/path</code> and has zero or more additional segments*</p>
</li>
<li><p>/*/path =&gt; match any URL that has two segments and the second segment is <code>/path</code></p>
</li>
<li><p>/path/segment? =&gt; match any URL that begins with <code>/path/segment</code> and has exactly one additional character at the end.</p>
</li>
</ul>
<h2 id="RequestHeader-x2F-CookieValue"><a href="#RequestHeader-x2F-CookieValue" class="headerlink" title="@RequestHeader/  @CookieValue"></a>@RequestHeader/  @CookieValue</h2><p>The basic usage of these 2 annotations are similar to <code>@RequestParam</code></p>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@RequestMapping(value = "/hello", method = RequestMethod.GET)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> String <span class="title function_">hello</span><span class="hljs-params">(<span class="hljs-meta">@RequestHeader(value = "User-Agent", required = false)</span> String userAgent, <span class="hljs-meta">@CookieValue("JSESSIONID")</span>String sessionId)</span>{</span><br><span class="line">      System.out.println(userAgent);</span><br><span class="line">      System.out.println(sessionId);</span><br><span class="line">      <span class="hljs-keyword">return</span> <span class="hljs-string">"helloPage"</span>;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Use-the-Servlet-API"><a href="#Use-the-Servlet-API" class="headerlink" title="Use the Servlet API"></a>Use the Servlet API</h2><p>In Spring MVC, we can use the Servelet API as the method arguments in controller handler methods.</p>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@GetMapping("/serv")</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="title function_">servlet</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, HttpSession session)</span> <span class="hljs-keyword">throws</span> IOException {</span><br><span class="line">    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> request.getParameter(<span class="hljs-string">"name"</span>);</span><br><span class="line">    response.setContentType(<span class="hljs-string">"text/html"</span>);</span><br><span class="line">    <span class="hljs-type">PrintWriter</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> response.getWriter();</span><br><span class="line">    out.println(<span class="hljs-string">"&lt;h1&gt;Hello,"</span> + name);</span><br><span class="line">    session.setAttribute(<span class="hljs-string">"name"</span>, name);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ModelAndView"><a href="#ModelAndView" class="headerlink" title="ModelAndView"></a>ModelAndView</h2><p>Model and View is a class in Spring MVC that represents a model and a view in a single object.</p>
<p>It’s often used to pass data fom a controller to a view template, and to specify which view template should be used to render the response.</p>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> <span class="hljs-meta">@GetMapping("/model")</span></span><br><span class="line"> <span class="hljs-keyword">public</span> ModelAndView <span class="title function_">mav</span><span class="hljs-params">(String name)</span>{</span><br><span class="line">     <span class="hljs-type">ModelAndView</span> <span class="hljs-variable">modelAndView</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">     modelAndView.addObject(<span class="hljs-string">"name"</span>, name);</span><br><span class="line">     modelAndView.setViewName(<span class="hljs-string">"helloPage"</span>);</span><br><span class="line">     <span class="hljs-keyword">return</span> modelAndView;</span><br><span class="line">     </span><br><span class="line">     <span class="hljs-comment">// or</span></span><br><span class="line">     Map&lt;String, Object&gt; model = <span class="hljs-keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">     model.put(<span class="hljs-string">"name"</span>, name);</span><br><span class="line">     <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="hljs-string">"helloPage"</span>,model);</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"> <span class="hljs-comment">// or</span></span><br><span class="line"><span class="hljs-meta">@GetMapping("/model")</span></span><br><span class="line"> <span class="hljs-keyword">public</span> String <span class="title function_">model</span><span class="hljs-params">(Model model,String name)</span>{</span><br><span class="line">     model.addAttribute(<span class="hljs-string">"name"</span>, name);</span><br><span class="line">     <span class="hljs-keyword">return</span> <span class="hljs-string">"helloPage"</span>;</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// or</span></span><br><span class="line"> <span class="hljs-meta">@GetMapping("/map")</span></span><br><span class="line"> <span class="hljs-keyword">public</span> String <span class="title function_">map</span><span class="hljs-params">(Map&lt;String, Object&gt; map,String name)</span>{</span><br><span class="line">     map.put(<span class="hljs-string">"name"</span>, name);</span><br><span class="line">     <span class="hljs-keyword">return</span> <span class="hljs-string">"helloPage"</span>;</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure>

<p>jsp file</p>
<figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;</span><br><span class="line">&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;</span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello,<span class="hljs-tag">&lt;<span class="hljs-name">c:out</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${name}"</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>   </span><br><span class="line"> &lt;%--or --%&gt;</span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello,${requestScope.name}"<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="Different-implementations-of-View"><a href="#Different-implementations-of-View" class="headerlink" title="Different implementations of View"></a>Different implementations of View</h2><p>In Spring MVC, a View is an interfae that represents a template for rendering a response.</p>
<p>Some implementations of view includes:</p>
<ol>
<li><p><em><strong>InternalResourceView</strong></em></p>
<p>It represents a view template that is stored in a web application’s internal resource directory(such as WEB-INF/jsp ).</p>
</li>
</ol>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@GetMapping("/internal")</span></span><br><span class="line"> <span class="hljs-keyword">public</span> ModelAndView <span class="title function_">internalResourceView</span><span class="hljs-params">(String name)</span>{</span><br><span class="line">     Map&lt;String, Object&gt; model = <span class="hljs-keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">     model.put(<span class="hljs-string">"name"</span>, name);</span><br><span class="line">     <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="hljs-keyword">new</span> <span class="title class_">InternalResourceView</span>(<span class="hljs-string">"/WEB-INF/helloPage.jsp"</span>), model);</span><br><span class="line"> }</span><br><span class="line">   </span><br></pre></td></tr></tbody></table></figure>

<ol start="2">
<li><p><em><strong>JstlView</strong></em></p>
<p>If we use JSTL tags in our jsps, then we need to ues the <code> JstlView</code> Object to help support JSTL tags.</p>
</li>
</ol>
<figure class="highlight xml hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"viewResolver"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">      <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewClass"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"org.springframework.web.servlet.view.JstlView"</span>/&gt;</span></span><br><span class="line">      <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prefix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"/WEB-INF/"</span>/&gt;</span></span><br><span class="line">      <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"suffix"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">".jsp"</span>/&gt;</span></span><br><span class="line"> <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<ol start="3">
<li><em><strong>RedirectView</strong></em></li>
</ol>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@GetMapping("/redirect")</span></span><br><span class="line"> <span class="hljs-keyword">public</span> ModelAndView <span class="title function_">redirectView</span><span class="hljs-params">()</span>{</span><br><span class="line">     <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="hljs-keyword">new</span> <span class="title class_">RedirectView</span>(<span class="hljs-string">"/hello"</span>));</span><br><span class="line"> }</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Charater-Encoding"><a href="#Charater-Encoding" class="headerlink" title="Charater Encoding"></a>Charater Encoding</h2><p>The default encoding in SpringMVC is ISO-8859-1, to correlty show Chinese charaters, we need to add an encoding filter.</p>
<figure class="highlight xml hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span></span><br><span class="line">        <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2022/12/19/spring-notes/" itemprop="url">Spring notes</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2022-12-19T14:34:45.000Z" itemprop="datePublished">Dec 19 2022</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/course-notes/">course-notes</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h1 id="a-simple-demo"><a href="#a-simple-demo" class="headerlink" title="a simple demo"></a>a simple demo</h1><p>The jar file we need here are : </p>
<ul>
<li>spring-beans</li>
<li>spring-context</li>
<li>spring-core</li>
<li>spring-expression</li>
<li>common-logging</li>
</ul>
<ol>
<li><p>create a class named User</p></li></ol></body></html>
        <p class="article-more-link">
            <a href="/2022/12/19/spring-notes/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2022/12/16/course-notes-bilibili-clone2/" itemprop="url">course-notes bilibilib clone2</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2022-12-16T10:13:20.000Z" itemprop="datePublished">Dec 16 2022</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/course-notes/">course-notes</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h1 id="chapter-2-user-moduel"><a href="#chapter-2-user-moduel" class="headerlink" title="chapter 2 user moduel"></a>chapter 2 user moduel</h1><h2 id="RESTful-URL-conventions"><a href="#RESTful-URL-conventions" class="headerlink" title="RESTful URL conventions"></a>RESTful URL conventions</h2><ul>
<li>the path must be plural nouns . ex: /users   (bad: /getUsers)</li>
<li>try to keep all characters in lower-case form. Use - to connect words. ex: / users-fans  (bad: /usersFans)</li>
</ul>
<p>some examples:</p>
<ul>
<li>GET:    /users/20   =&gt;  get user list</li>
<li>POST:  /users        =&gt;  create new user</li>
<li>PUT:   /users/20     =&gt; modify the user with id 20</li>
<li>PUT:   /users          =&gt; modify a batch ofl users </li>
<li>DELETE:   /users/20  =&gt;  delete the user with id 20</li>
</ul>
<p>some relatively complex GET API</p>
<ul>
<li><p>users?gender=male&amp;sort=created-time-desc   =&gt; filter + sort</p>
</li>
<li><p>users?size=10&amp;no=1    =&gt; pagination</p></li></ul></body></html>
        <p class="article-more-link">
            <a href="/2022/12/16/course-notes-bilibili-clone2/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2022/12/15/notes-JavaWeb/" itemprop="url">notes-JavaWeb</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2022-12-15T10:39:31.000Z" itemprop="datePublished">Dec 15 2022</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/course-notes/">course-notes</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h1 id="1-Tomcat"><a href="#1-Tomcat" class="headerlink" title="1. Tomcat"></a>1. Tomcat</h1><p><em><strong>error1</strong></em>: 404</p>
<p>I think there are some problems with the version of the Tomcat. My local tomcat is 8.5.50, but the version shown on the 404 page is 9.0.68(which is  the version of the Tomcat in the bilibili -clone project. )</p>
<p>Although I think the version of tomcat in these 2 projects don’t impact each other… but to solve this 404 problem, I decided to download Tomcat 9.0.68.</p>
<p>Then errro2 appears….</p>
<p><em><strong>error2</strong></em> : <code>Cannot find ./catalina.sh,The file is absent or does not have execute permission</code></p>
<p>the reason is that I don’t have the permission to execute that file.</p></body></html>
        <p class="article-more-link">
            <a href="/2022/12/15/notes-JavaWeb/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2022/12/15/notes-JDBC/" itemprop="url">notes-JDBC</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2022-12-15T05:11:06.000Z" itemprop="datePublished">Dec 15 2022</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/course-notes/">course-notes</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h1 id="1-data-persistence-in-Java"><a href="#1-data-persistence-in-Java" class="headerlink" title="1. data persistence in Java"></a>1. data persistence in Java</h1><ul>
<li>use JDBC to access database</li>
<li>JDO /Java Data Object</li>
<li>third-party tools such as Hibernate and Mybatis</li>
</ul>
<p>JDBC is the basic as  others encapsulated it.</p>
<h1 id="2-JDBC-concept"><a href="#2-JDBC-concept" class="headerlink" title="2. JDBC concept"></a>2. JDBC concept</h1><ul>
<li><p>full-name: Java Database connectivity</p>
</li>
<li><p>JDBC offers a set of Java APIs to  makes it possible to access any kinds of database in the same way by using differenct drivers.</p>
</li>
<li><p>It actually offers a set of  specification. Database vendors implements the Driver APIs to manipulate the data. As programmars we don’t neet to care too much about how the Driver APIs are implemented.</p></li></ul></body></html>
        <p class="article-more-link">
            <a href="/2022/12/15/notes-JDBC/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2022/12/14/course-notes%20bilibili-clone-1/" itemprop="url">course notes - bilibli clone</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2022-12-14T12:43:27.000Z" itemprop="datePublished">Dec 14 2022</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/course-notes/">course-notes</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p>Below are the notes that I took when I was learning the course “SpringBoot2.x实战B站高性能后端项目”(making a high-performance back-end project by imitating Bilibili)</p>
<h1 id="CHAPTER-1-project-environment-setup"><a href="#CHAPTER-1-project-environment-setup" class="headerlink" title="CHAPTER 1  project environment setup"></a>CHAPTER 1  project environment setup</h1><h3 id="1-create-a-new-project"><a href="#1-create-a-new-project" class="headerlink" title="1.create a new project"></a>1.create a new project</h3><p>This is a multi-module project, so I need to create several modules. The basic modules in this project are:</p>
<ul>
<li>bili-api (controller)</li>
<li>bili-service</li>
<li>bili-dao</li>
</ul>
<p>​     After creating the  modules above, I need to create configuration files. </p>
<p>​    bili-api —- 2 configuration files, <code>application-test.properties</code> and <code>application-online.properties</code>. Then in the service module, create a  file that contains the common configurations - <code>application.properties</code></p></body></html>
        <p class="article-more-link">
            <a href="/2022/12/14/course-notes%20bilibili-clone-1/#more">Read More</a>
        </p>
    
    </div>
    
    
</article>




    
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2023 Louie&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

           
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery > p > .gallery-item').unwrap();
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>