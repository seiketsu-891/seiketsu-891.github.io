<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Hexo"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hexo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="http://example.com/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:author" content="John Doe"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://example.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com"},"headline":"Hexo","image":["http://example.com/img/og_image.png"],"author":{"@type":"Person","name":"John Doe"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":{"text":"Louie's blog"}}},"description":""}</script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/isbl-editor-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto Serif Simplified Chinese:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">Louie&#039;s blog</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-12-16T00:32:17.000Z" title="12/16/2022, 8:32:17 AM">2022-12-16</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-12-16T03:12:53.256Z" title="12/16/2022, 11:12:53 AM">2022-12-16</time></span><span class="level-item"><a class="link-muted" href="/categories/Leetcode/">Leetcode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/12/16/Leetcode-3-Longest-Substring-Without-Repeating-Characters/">Leetcode-3- Longest Substring Without Repeating Characters</a></h1><div class="content"><h1 id="Problem-statement"><a href="#Problem-statement" class="headerlink" title="Problem statement"></a>Problem statement</h1><p>Given a string <code>s</code>, find the length of the <strong>longest</strong> <strong>substring</strong> without repeating characters.</p>
<h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>The brute force method  is to  iterate every character of the string, and for each character we are iterating, iterate the charateres after it. </p>
<p>To improve the performance, first think about what extra job do we do in the method metioned above.</p>
<p>Let’s say the input string is ‘abcabcbb’, when we are iterating each character: </p>
<p>when i &#x3D; 0  &#x3D;&gt; we will iterate : abca,(a is duplicated , so we stop here )</p>
<p>when i  &#x3D;1 &#x3D;&gt; we will iterate :  bcab &#x3D;</p>
<p>when  i &#x3D; 2 &#x3D;&gt; we will iterate: cabc</p>
<p>when i &#x3D; 3 &#x3D;&gt; we will iterate : abcbb</p>
<p>when i &#x3D; 4 &#x3D;&gt; we will iterate : bcb</p>
<p>….</p>
<p>We can use a picture to show this.</p>
<p><img src="/images/leetcode/3.png"></p>
<p>As we can see,  some characters were iterated several times.</p>
<p>we can see each character sequence surrouned by a rectangle as a window, each window &#x3D; the previous window - its fitst item + other items..</p>
<p>So we can set two pointers - left and right. Each time we encouter a duplicated charactor, we move the left pointer.</p>
<p>For example:  [a b a e  f b  g ]</p>
<p>At the beginning, left &#x3D; 0, right &#x3D;0;  then we move the right pointer to the right,  when right &#x3D; 2, we encounter  a dulplicated item. So we move the left pointer to make left equals 1  and continue to move the right pointer.  At this time, we store the length of this string sequence without repeating characters, which is<code>right-left+ 1</code>  </p>
<p>Then we repeat this process. When right &#x3D; 5, we find a dulplicated ‘b’, so we make left &#x3D; 2, and continue to move the right pointer. Notice that when we find a duplicated item, we need to make sure that we know where to move our left pointer to, so we need to use a hashtable to store characters and their corresponding index.</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(s == <span class="literal">null</span> || s.length()== <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sequenceLen</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">        HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(right &lt; chars.length) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">curr</span> <span class="operator">=</span> chars[right];</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(curr) &amp;&amp; map.get(curr) &gt;=left) &#123;</span><br><span class="line">                <span class="comment">// if we found a duplicated item, we update sequenceLen and move the left pointer.</span></span><br><span class="line">              <span class="comment">// we need to assure that map.get(curr) &gt;= left as the curr character sequence is from index-left to index-right.</span></span><br><span class="line">                sequenceLen = Math.max(right - left, sequenceLen);</span><br><span class="line">                left = map.get(curr) + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="comment">// in the above, we only update the length value when we found a duplicated item, but if we have reached the last item in the array and there is no duplicated charaters, we still need to update the length value. for example: [a,a,b].</span></span><br><span class="line">                <span class="keyword">if</span>(right == chars.length-<span class="number">1</span>)&#123;</span><br><span class="line">                     sequenceLen = Math.max(right - left + <span class="number">1</span>, sequenceLen);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(curr, right);</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> sequenceLen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-12-15T10:39:31.000Z" title="12/15/2022, 6:39:31 PM">2022-12-15</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-12-16T03:27:22.540Z" title="12/16/2022, 11:27:22 AM">2022-12-16</time></span><span class="level-item"><a class="link-muted" href="/categories/JavaWeb/">JavaWeb</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/12/15/notes-JavaWeb/">notes-JavaWeb</a></h1><div class="content"><h1 id="1-Tomcat"><a href="#1-Tomcat" class="headerlink" title="1. Tomcat"></a>1. Tomcat</h1><p><em><strong>error1</strong></em>: 404</p>
<p>I think there are some problems with the version of the Tomcat. My local tomcat is 8.5.50, but the version shown on the 404 page is 9.0.68(which is  the version of the Tomcat in the bilibili -clone project. )</p>
<p>Although I think the version of tomcat in these 2 projects don’t impact each other… but to solve this 404 problem, I decided to download Tomcat 9.0.68.</p>
<p>Then errro2 appears….</p>
<p><em><strong>error2</strong></em> : <code>Cannot find ./catalina.sh,The file is absent or does not have execute permission</code></p>
<p>the reason is that I don’t have the permission to execute that file.</p>
<p>solution: </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x *.sh</span><br></pre></td></tr></table></figure>

<p>After making this error disappear, the 404 error also disapears…</p>
<h1 id="2-a-simple-servlet-demo"><a href="#2-a-simple-servlet-demo" class="headerlink" title="2. a simple servlet demo"></a>2. a simple servlet demo</h1><p>servlet can be seen as a component between request and DAO. For example, assume that we submit a form with “action&#x3D;addUser”, then a servlet  named “addUser” helps us resolve the data from the request and give those data to UserDAO.</p>
<p>a simple demo: </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- html --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/addUser&quot;</span>&gt;</span></span><br><span class="line">      name： <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>servlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddUserServlet</span> extend HttpServlet &#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(httpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    System.our.println(<span class="string">&quot;name is: &quot;</span> + name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To bind the form post request and the servlet, we need to add some configuration in web.xml file.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>addUser<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.demo.servlet.AddUserServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>addUser<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/addUser<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="3-some-other-points-on-Servlet"><a href="#3-some-other-points-on-Servlet" class="headerlink" title="3. some other points on Servlet"></a>3. some other points on Servlet</h1><h3 id="encoding"><a href="#encoding" class="headerlink" title="encoding"></a>encoding</h3><p>If we input Chinese or Japanese in the input filed above, the servlet can’t get the right parameter value.</p>
<p>To solve this problem, we need to: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// notice that after Tomcat 8, we don&#x27;t need to care about the encoding for get requests. </span></span><br></pre></td></tr></table></figure>

<h3 id="life-cycle"><a href="#life-cycle" class="headerlink" title="life cycle"></a>life cycle</h3><p>Tomcat helps us to manage the life cycle of Servlet.</p>
<ul>
<li>init()</li>
<li>service( )    - check request method and call responding method(post &#x3D;&gt; doPost)</li>
<li>destroy()</li>
</ul>
<p>By default, a servlet was initialized after it  received a request for the first time. After Tomcat was stopped, all the servelet instances will be destroyed. </p>
<p>We could use the code below to see  at what timing each method is called. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddUserServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AddUserServlet</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;addUserServlet instance is created&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;init method is called&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service method is called&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;destroy method is called&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>the first time we click the submit button to send a post request, the content below will be printed : </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">addUserServlet instance is created </span><br><span class="line">init method is called</span><br><span class="line">service method is called</span><br></pre></td></tr></table></figure>

<p>after that, if we submitted a new post request, only the service method is called. If we ternimate Tomcat, destroy method would be called.</p>
<p>Actually, we can change the initilazation  timing  of a servlet</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>...</span><br><span class="line">   <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>...</span><br><span class="line">     <span class="comment">&lt;!-- a servet with a smaller number initializes earlier--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>For every Servlet, only one instance will be created, which means that it’s unsecure to use in multi-thread sceinarios.</p>
<h3 id="session-managemenet"><a href="#session-managemenet" class="headerlink" title="session managemenet"></a>session managemenet</h3></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-12-15T05:11:06.000Z" title="12/15/2022, 1:11:06 PM">2022-12-15</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-12-16T03:13:08.910Z" title="12/16/2022, 11:13:08 AM">2022-12-16</time></span><span class="level-item"><a class="link-muted" href="/categories/database/">database</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/12/15/notes-JDBC/">notes-JDBC</a></h1><div class="content"><h1 id="1-data-persistence-in-Java"><a href="#1-data-persistence-in-Java" class="headerlink" title="1. data persistence in Java"></a>1. data persistence in Java</h1><ul>
<li>use JDBC to access database</li>
<li>JDO &#x2F;Java Data Object</li>
<li>third-party tools such as Hibernate and Mybatis</li>
</ul>
<p>JDBC is the basic as  others encapsulated it.</p>
<h1 id="2-JDBC-concept"><a href="#2-JDBC-concept" class="headerlink" title="2. JDBC concept"></a>2. JDBC concept</h1><ul>
<li>full-name: Java Database connectivity</li>
<li>JDBC offers a set of Java APIs to  makes it possible to access any kinds of database in the same way by using differenct drivers.</li>
<li>It actually offers a set of  specification. Database vendors implements the Driver APIs to manipulate the data. As programmars we don’t neet to care too much about how the Driver APIs are implemented.</li>
</ul>
<h1 id="3-create-connections"><a href="#3-create-connections" class="headerlink" title="3.create connections"></a>3.create connections</h1><ul>
<li><p>add jar file </p>
<p>create a folder called lib, put mysql-connector-jave jar file into it, then right-click the file and choose “Build Path- Add to Build Path”.</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Driver</span> <span class="variable">driver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">com</span>.mysql.cj.jdbc.Driver();</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/test&quot;</span>; <span class="comment">// jdbc:protocal, mysql: sub protocal </span></span><br><span class="line"><span class="type">Properties</span> <span class="variable">info</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">info.setProperty(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;root&quot;</span>); <span class="comment">// notice that it&#x27;s &quot;user&quot;, not &quot;username&quot; here. </span></span><br><span class="line">info.setProperty(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;root&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> driver.connnet(url, info);</span><br></pre></td></tr></table></figure>

<p>we could do something to make the above code more elegant.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. create driver instance by reflection</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line"><span class="type">Driver</span> <span class="variable">driver</span> <span class="operator">=</span> (Driver) clazz.getDeclaredConstructor().newInstance(); <span class="comment">//xx.newInstance() is depracated;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. use DriverManager</span></span><br><span class="line">DriverManager.registerDriver(driver);</span><br><span class="line">DriverManager.getConnetion(url, user, password); <span class="comment">// there are several other apis here, such as getConnection(url, info)</span></span><br></pre></td></tr></table></figure>

<p>Actually, the first 3 lines of code above can be replaced with one line of code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>)</span><br><span class="line"> <span class="comment">// this code means that we load the MySQL Driver class into our memory. </span></span><br><span class="line"> <span class="comment">// in the source code, there is a static code block that will be executed after the class is loaded into memory.</span></span><br><span class="line"> <span class="comment">// so, Mysql Driver automatically registers the driver for us.</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//  the relatvie source code: </span></span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">     java.sql.DriverManager.registerDriver(<span class="keyword">new</span> <span class="title class_">Driver</span>());</span><br><span class="line">  &#125;<span class="keyword">catch</span>(...)&#123;</span><br><span class="line">     ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>actually, we don’t even to load the class manually! It will be automatically loaded.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>) <span class="comment">// we don&#x27;t need this line! </span></span><br><span class="line">  </span><br><span class="line"><span class="comment">// However, be aware that this dosen&#x27;t apply to all vendors.(ex : Oracle).So keeping this line of code is recommended.</span></span><br></pre></td></tr></table></figure>

<p>Notice that we hard code the infomation about our database. Intead of doing this, we could put those information in a property file.</p>
<ul>
<li><p>create <code>jdbc.propertiesf</code>file in src direactory. </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driverClass=com.mysql.cj.jdbc.Driver</span><br><span class="line">url=jdbc:mysql://localhost:3306/test</span><br><span class="line">user=root</span><br><span class="line">password=root</span><br></pre></td></tr></table></figure>

<p>get info</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">iStream</span> <span class="operator">=</span> ConnectionTest.class.getClassLoader().getResourceAsStream(<span class="string">&quot;jdbc.properties&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Properties</span> <span class="variable">pros</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">pros.load(iStream);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">driverClass</span> <span class="operator">=</span> props.getProperty(<span class="string">&quot;driverClass&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> props.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> props. getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> props.getProperty(<span class="string">&quot;password&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>so the full final version of code  is: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// read info from properties file</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">iStream</span> <span class="operator">=</span> ConnectionTest.class.getClassLoader().getResourceAsStream(<span class="string">&quot;jdbc.properties&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Properties</span> <span class="variable">pros</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">pros.load(iStream);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">driverClass</span> <span class="operator">=</span> props.getProperty(<span class="string">&quot;driverClass&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> props.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> props. getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> props.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// load Driver </span></span><br><span class="line">Class.forName(driverClass);</span><br><span class="line"></span><br><span class="line"><span class="comment">// get a connection</span></span><br><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> DriverManager.getConnection(url, user, password);</span><br></pre></td></tr></table></figure>





</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-12-15T03:57:49.000Z" title="12/15/2022, 11:57:49 AM">2022-12-15</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-12-15T04:59:29.078Z" title="12/15/2022, 12:59:29 PM">2022-12-15</time></span><span class="level-item"><a class="link-muted" href="/categories/Leetcode/">Leetcode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/12/15/Leetcode-2-Add-Two-Numbers/">Leetcode-2-Add-Two-Numbers</a></h1><div class="content"><h1 id="question"><a href="#question" class="headerlink" title="question"></a>question</h1><p>You are given two <strong>non-empty</strong> linked lists representing two non-negative integers. The digits are stored in <strong>reverse order</strong>, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list.</p>
<p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p>
<h1 id="basic-idea"><a href="#basic-idea" class="headerlink" title="basic idea"></a>basic idea</h1><p> we need to clarify the problem First.</p>
<ul>
<li>the arguments are  LinkedNodes, which basically has 2 properties: value and the next node, the return value is also a LinkedNode.</li>
<li>the given intergers are stored in reverse order . ex: arguments 2 -&gt; 3 - 1 and 2-&gt; 1 means 132+ 12</li>
</ul>
<p> so we can iterate the two nodes, if they all have value, then add them, and store the carry. If one of them does not have value, then make the value of the other node add 0. </p>
<h1 id="code"><a href="#code" class="headerlink" title="code"></a>code</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">resHead</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prevNode</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">carry</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> sum;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(l1 != <span class="literal">null</span> || l2 != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> (l1 != <span class="literal">null</span>)? l1.val : <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num2</span> <span class="operator">=</span> (l2 != <span class="literal">null</span>)? l2.val : <span class="number">0</span>;</span><br><span class="line">            sum  = num1+ num2 + carry;</span><br><span class="line">            carry = sum / <span class="number">10</span>;</span><br><span class="line">            sum = sum % <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(sum);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(resHead == <span class="literal">null</span>)&#123;</span><br><span class="line">                resHead = newNode;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                prevNode.next= newNode;</span><br><span class="line">            &#125;</span><br><span class="line">            prevNode = newNode;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(l1 != <span class="literal">null</span>)&#123;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(l2 != <span class="literal">null</span>)&#123;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(carry &gt; <span class="number">0</span>)&#123;</span><br><span class="line">           prevNode.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(carry);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resHead;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-12-14T13:18:58.000Z" title="12/14/2022, 9:18:58 PM">2022-12-14</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-12-14T13:55:35.547Z" title="12/14/2022, 9:55:35 PM">2022-12-14</time></span><span class="level-item"><a class="link-muted" href="/categories/Leetcode/">Leetcode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/12/14/Leetcode-1-Two-Sum/">Leetcode 1 Two Sum</a></h1><div class="content"><h1 id="question"><a href="#question" class="headerlink" title="question:"></a>question:</h1><p>Given an array of integers <code>nums</code> and an integer <code>target</code>, return <em>indices of the two numbers such that they add up to <code>target</code></em>.</p>
<p>You may assume that each input would have *<strong>exactly* one solution</strong>, and you may not use the <em>same</em> element twice.</p>
<p>You can return the answer in any order.</p>
<h1 id="basic-idea"><a href="#basic-idea" class="headerlink" title="basic idea"></a>basic idea</h1><p>The simplest but not so efficient method is to iterate the array and for every item in the array, we iterate the items after it and to check if we could get the the sum we want. Time complexity of this method would be O(n^2).</p>
<p>So how do we make the solution more efficient?</p>
<p>Let’s look at an example.</p>
<p>If the input is [2, 11, 15, 6], and the target is 8.</p>
<p>We iterate the input array and when the current item is 2, we expect to find 6. we can use a map to save the index of the item 2 and the number we expect to find, which is 6.  When the current items becomes 6, we check the map and find it’s just what we wanted. </p>
<h1 id="my-solution"><a href="#my-solution" class="headerlink" title="my solution"></a>my solution</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">curr</span> <span class="operator">=</span> nums[i];</span><br><span class="line">            <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; map.containsKey(curr))&#123;</span><br><span class="line">                res[<span class="number">0</span>] = map.get(curr);</span><br><span class="line">                res[<span class="number">1</span>] = i;</span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(target - nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>time complexity: O(n)  - in the worst scenario,  we need to interate the whole array once</p>
<p>space complexity: O(n) - we need an extra map</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-12-14T12:43:27.000Z" title="12/14/2022, 8:43:27 PM">2022-12-14</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-12-15T03:53:26.527Z" title="12/15/2022, 11:53:26 AM">2022-12-15</time></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/12/14/course-notes%20bilibilib%20clone-1/">course notes - bilibli clone</a></h1><div class="content"><p>Below are the notes that I took when I was learning the course “SpringBoot2.x实战B站高性能后端项目”(making a high-performance back-end project by imitating Bilibili)</p>
<h1 id="CHAPTER-1-project-environment-setup"><a href="#CHAPTER-1-project-environment-setup" class="headerlink" title="CHAPTER 1  project environment setup"></a>CHAPTER 1  project environment setup</h1><h3 id="1-create-a-new-project"><a href="#1-create-a-new-project" class="headerlink" title="1.create a new project"></a>1.create a new project</h3><p>This is a multi-module project, so I need to create several modules. The basic modules in this project are:</p>
<ul>
<li>bili-api (controller)</li>
<li>bili-service</li>
<li>bili-dao</li>
</ul>
<p>​     After creating the  modules above, I need to create configuration files. </p>
<p>​    bili-api —- 2 configuration files, <code>application-test.properties</code> and <code>application-online.properties</code>. Then in the service module, create a  file that contains the common configurations - <code>application.properties</code></p>
<h3 id="2-spring-boot-dependencies-and-dependencies-between-moduels"><a href="#2-spring-boot-dependencies-and-dependencies-between-moduels" class="headerlink" title="2. spring boot dependencies and dependencies between moduels"></a>2. spring boot dependencies and dependencies between moduels</h3><p>  (1)  add SpringBoot parent denpendency and spring-web</p>
<p>  (2) dependencies between moduels : service is dependent on dao and api is dependent on service</p>
<p><em><strong>errors here:</strong></em></p>
<ul>
<li>pom file in bili-api is grayed out and strikethrough</li>
</ul>
<p>​          solution: <code>Preferences-Maven-IgnoredFiles</code>, uncheck the pom file.</p>
<h3 id="3-launch-the-project"><a href="#3-launch-the-project" class="headerlink" title="3. launch the project"></a>3. launch the project</h3><p>  (1) create a <code>BiliApp.java</code> file in bili-api, and add the code below</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@SpringBootApplication</span><br><span class="line">public class BiliApp</span><br><span class="line">&#123;</span><br><span class="line">    public static void main( String[] args )</span><br><span class="line">    &#123;</span><br><span class="line">     ApplicationContext app = SpringApplication.run(BiliApp.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(2)set the profile</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># profile</span><br><span class="line">spring.profiles.active = test</span><br></pre></td></tr></table></figure>

<p>   <em><strong>errors and problems here:</strong></em></p>
<ul>
<li>“<code>SpringBootApplication.run</code>“ becomes red</li>
</ul>
<p> simply because I wrote <code>SpringBootApplication</code> instead of <code>SpringApplication</code></p>
<ul>
<li><p>the icon before configuration file isn’t right. ref:  <a target="_blank" rel="noopener" href="https://blog.51cto.com/u_15441799/4675193">https://blog.51cto.com/u_15441799/4675193</a></p>
</li>
<li><p><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError</code></p>
<p> solution:  I took a lot of time to search on Google, but it was still not solved. Then I noticed that the version of spring-context and the version of spring-boot were shown in the error message, so I tried to upgrade the version of spring-boot, and it worked! </p>
</li>
<li><p>profile set in a applicaiton.properties is not detected, error message: <code>No active profile set, falling back to default profiles:default</code></p>
<p>solution: I set the profile in ‘Edit configuration’ window and it worked. I tested and found that the configuration file in api module can be read properly. But I’m still wondering why setting profile in the configuration file doesn’t work.</p>
</li>
<li><p>tomcat jar file broken, error message: <code>tomcat-embed-core-9.0.53.jar; zip file is empty</code></p>
<p>solution:  delete tomcat-embed-core from external libraries and re-add it.</p>
</li>
</ul>
<h3 id="4-datasource-configuration-and-persistence-layer-setup"><a href="#4-datasource-configuration-and-persistence-layer-setup" class="headerlink" title="4. datasource configuration and  persistence layer setup"></a>4. datasource configuration and  persistence layer setup</h3><p>(1)MySQL  dependency and configurations for datasource</p>
<p>(2) Mybatis dependency  and configurations for it </p>
<p>(3) create tesDao&#x2F;controller&#x2F;service</p>
<p><em><strong>error1</strong></em> : <code>Invalid bound statement (not found): org.example.dao.TestDao.findUserNameById</code></p>
<p>Actually this error is linked with the profile error above. <code>application.properties</code>  in the parent module is not read. </p>
<p>some attemption:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PropertySources(&#123;</span></span><br><span class="line"><span class="meta">        @PropertySource(&quot;classpath:application.properties&quot;)</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="comment">// I tried to add this before the startup  class and I got an exception :java.io.FileNotFoundException: class path resource [application.properties] cannot be opened because it does not exist</span></span><br></pre></td></tr></table></figure>

<p>So it means that the application.properties file is totally not found by my application.</p>
<p>After reading <a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44695793/article/details/107752054">https://blog.csdn.net/weixin_44695793/article/details/107752054</a>, I noticed that there is no target folder in the parent directory, which means that application.properties file is not compiled. </p>
<p>Then I opened the demonstration file from the course and tried to compare it with mine. Then I noticed that I put the application.properties  file in the wrong place. It should in servcie-module.</p>
<p>After correcting this, it seems that the problem above is solved. But there is a new problem.</p>
<p><em><strong>error2</strong></em> : <code>FileNotFoundException: class path resource [mapper/*.xml] cannot be opened because it does not exist</code></p>
<p>solution:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mybatis.config-location=classpath:mapper/*.xml</span><br><span class="line"># I wronly wrote the configuration. The right one should be: </span><br><span class="line">mybatis.mapper-locations=classpath:mapper/*.xml </span><br><span class="line"># notice: * mapper / * locations</span><br></pre></td></tr></table></figure>

<h3 id="5-hot-deployment"><a href="#5-hot-deployment" class="headerlink" title="5.  hot deployment"></a>5.  hot deployment</h3><p>(1)preferences- compiler - check build project automatically</p>
<p>(2) command + option +shift + &#x2F;  open Maintenance window, click ‘registry’, check the following two options:</p>
<ul>
<li>compiler.document.save.enabled</li>
<li>compiler.automake.allow.when.app.runningi(for newer edition of IDEA, go to Preferences-Advanced Settings- check ‘Allow auto-mae to start even if deveploped application is currently running’)</li>
</ul>
<p>(3)click edit-configuration  </p>
<p>​    change ‘on Update action’ and ‘on frame deactivation’ to ‘update classes and resources’.</p>
<p>(4) add  spring-devtools dependency and configuration</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.devtools.restart.enabled=true</span><br></pre></td></tr></table></figure>

<p>In fact, it didn’t work after I had followed the instructions aboved, which are given by the instructor of the course. I did what was said in <a target="_blank" rel="noopener" href="https://blog.csdn.net/luokha/article/details/119746359">https://blog.csdn.net/luokha/article/details/119746359</a> (check compiler-compile indepenetd modules in parallel). Then it worked.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-12-14T11:10:52.325Z" title="12/14/2022, 7:10:52 PM">2022-12-14</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-12-14T11:10:52.326Z" title="12/14/2022, 7:10:52 PM">2022-12-14</time></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/12/14/hello-world/">Hello World</a></h1><div class="content"><p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="Louie"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Louie</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">7</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/" target="_blank" rel="noopener">Follow</a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/JavaWeb/"><span class="level-start"><span class="level-item">JavaWeb</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Leetcode/"><span class="level-start"><span class="level-item">Leetcode</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/database/"><span class="level-start"><span class="level-item">database</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-16T00:32:17.000Z">2022-12-16</time></p><p class="title"><a href="/2022/12/16/Leetcode-3-Longest-Substring-Without-Repeating-Characters/">Leetcode-3- Longest Substring Without Repeating Characters</a></p><p class="categories"><a href="/categories/Leetcode/">Leetcode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-15T10:39:31.000Z">2022-12-15</time></p><p class="title"><a href="/2022/12/15/notes-JavaWeb/">notes-JavaWeb</a></p><p class="categories"><a href="/categories/JavaWeb/">JavaWeb</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-15T05:11:06.000Z">2022-12-15</time></p><p class="title"><a href="/2022/12/15/notes-JDBC/">notes-JDBC</a></p><p class="categories"><a href="/categories/database/">database</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-15T03:57:49.000Z">2022-12-15</time></p><p class="title"><a href="/2022/12/15/Leetcode-2-Add-Two-Numbers/">Leetcode-2-Add-Two-Numbers</a></p><p class="categories"><a href="/categories/Leetcode/">Leetcode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-14T13:18:58.000Z">2022-12-14</time></p><p class="title"><a href="/2022/12/14/Leetcode-1-Two-Sum/">Leetcode 1 Two Sum</a></p><p class="categories"><a href="/categories/Leetcode/">Leetcode</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">December 2022</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/JDBC/"><span class="tag">JDBC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaWeb/"><span class="tag">JavaWeb</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Leetcode/"><span class="tag">Leetcode</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/course-note/"><span class="tag">course-note</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/course-notes/"><span class="tag">course-notes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/notes/"><span class="tag">notes</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">Louie&#039;s blog</a><p class="is-size-7"><span>&copy; 2022 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>